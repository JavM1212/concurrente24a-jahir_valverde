procedure main():
  shared thread_count := 5
  declare threads := create_threads(thread_count, routine)
  ...
  join_threads(threads)
end procedure

procedure routine(thread_number)
  print("I am thread ", thread_number, " of ", thread_count)
end procedure